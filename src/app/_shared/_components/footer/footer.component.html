<div class="mt-2">
  <div class="container white-background">
    <div *ngIf="gameSrv.isGameStarted() && [1,2,3,4].includes(activeTurn)"
         class="mt-2 mb-2 space-below  white-background">
      <hr class=""/>
      <div class="d-flex flex-column gap-1">
        <div *ngIf="game && game.activePlayer"
             class="text-center d-flex align-items-center justify-content-center gap-1">
          <img title="avatarSrc" class="img-thumbnail" width="32" height="32" src="{{ game.activePlayer.avatarSrc }}">
          <span class="fs-2">{{game.activePlayer.name}}</span>
        </div>
        <div class="space-below d-flex justify-content-center flex-row">
          <div *ngIf="activeTurn === 1 " class="d-flex gap-2">
            <button title="chooseRed" class=" red-choice card-container " (click)="chooseColor('red')"></button>
            <button title="chooseBlack" class="card-container black-choice" (click)="chooseColor('black')">
            </button>
          </div>
          <div *ngIf="activeTurn === 2 " class="d-flex gap-2 ">
            <button title="choosePlus" class="card-container" [innerHTML]="'+'" (click)="plusOrMinus('plus')"></button>
            <button title="chooseMinus" class="card-container" [innerHTML]="'-'"
                    (click)="plusOrMinus('minus')"></button>
          </div>
          <div *ngIf="activeTurn === 3 " class="d-flex gap-2">
            <button title="chooseIn" class="card-container small-font w-auto vertical-text-button"
                    [translate]="'Button_In'" (click)="inOut('in')">
                <div *ngFor="let card of this.gameSrv.game.activePlayer?.cards; let i = index" class="d-flex flex-column">
                  <div class="d-flex flex-row  card-custom-mr">
                    <app-playing-card  [ngClass]="{  'card-custom-mr' : i === 0 }" [card]="card"></app-playing-card>
                    <span *ngIf="i === 0 " class="fs-2">......</span>
                  </div>
                </div>
            </button>
            <button title="chooseOut" class="card-container small-font w-auto  vertical-text-button"
                    [translate]="'Button_Out'"
                    (click)="inOut('out')">
              <div *ngFor="let card of this.gameSrv.game.activePlayer?.cards; let i = index" class="d-flex flex-column">
                <div class="d-flex flex-row  card-custom-mr">
                  <span *ngIf="i === 0 " class="fs-2">...</span>
                  <app-playing-card  [ngClass]="{  'card-custom-mr' : i === 0 }" [card]="card"></app-playing-card>
                  <span *ngIf="i === 1 " class="fs-2">...</span>
                </div>
              </div>
            </button>
          </div>
          <div *ngIf="activeTurn === 4 " class="d-flex gap-2">
            <button title="chooseHearts" class="card-container red-color " [innerHTML]="'&hearts;'"
                    (click)="chooseSuit('hearts')"></button>
            <button title="chooseDiams" class="card-container " [innerHTML]="'&diams;'"
                    (click)="chooseSuit('diams')"></button>
            <button title="chooseSpades" class="card-container " [innerHTML]="'&spades;'"
                    (click)="chooseSuit('spades')"></button>
            <button title="chooseClubs" class="card-container " [innerHTML]="'&clubs;'"
                    (click)="chooseSuit('clubs')"></button>
          </div>
        </div>

      </div>
    </div>
    <div *ngIf="game && game.phase === 2" class="mt-2 mb-2 white-background ">
      <hr class=""/>
      <div class="d-flex flex-column gap-1">
        <div *ngIf="this.gameSrv.isGameStarted() || this.gameSrv.isGameFinished()"
             class="d-flex flex-row justify-content-center gap-1">
          <div>
            <span [translate]="'Label_YouDrink'"></span>
            <div class="d-flex flex-row gap-0">
              <div *ngFor="let loop of [].constructor(6); let i = index">
                <app-playing-card [card]="drinkingCards[i]" [leftOverlap]="i !== 0"></app-playing-card>
              </div>
            </div>
          </div>
          <div>
            <span [translate]="'Label_YouGive'"></span>
            <div class="d-flex flex-row gap-0">
              <div *ngFor="let loop of [].constructor(6); let i = index">
                <app-playing-card [card]="givingCards[i]" [leftOverlap]="i !== 0"></app-playing-card>
              </div>
            </div>
          </div>
        </div>
        <div *ngIf="givingCards.length < 6" class=" text-center ">
          <button type="button" class="btn btn-secondary ms-2 space-below"
                  (click)="onDisplayCard()"
                  [translate]=" drinkingCards.length <= givingCards.length  ? 'Label_YouDrink'  :  'Label_YouGive' "></button>
        </div>
        <div *ngIf=" !this.gameSrv.isNewGame() &&  givingCards.length === 6" class=" text-center ">
          <button type="button" class="btn btn-secondary ms-2 space-below" (click)="restartGame()"
                  [translate]="'Button_Restart'"></button>
          <button
            *ngIf="this.gameSrv.isGameFinished() && this.gameSrv.isSummaryActivated() && !this.gameSrv.isSummaryMode()"
            type="button"
            class="btn btn-secondary ms-2 space-below" (click)="displaySummary()"
            [translate]="'Button_Display_Summary'"></button>

        </div>
      </div>
    </div>
    <!-- Button to start game-->
    <div *ngIf="hasPlayers() && gameSrv.isNewGame()" class=" mb-2 text-center white-background">
      <hr class="mb-2"/>
      <button type="button" class="btn btn-secondary ms-2 space-below" (click)="beginGame()"
              [translate]="'Button_BeginGame'"></button>

    </div>
  </div>
</div>
<app-toast #notAllSipsGiven [titleMessage]="'Warning'" [bodyMessage]="'Assign_All_Sips'"></app-toast>



